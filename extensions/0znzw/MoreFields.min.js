/**!
 * More Fields
 * @author 0znzw <meow@miyo.lol> (@link https://scratch.mit.edu/users/0znzw/)
 * @version 1.8
 * @license MIT AND LGPL-3.0
 * Do not remove this comment
 */
!function(t){"use strict";if(!t.extensions.unsandboxed)throw new Error('"More Fields" must be ran unsandboxed.');const e="0znzwMoreFields",{BlockType:i,ArgumentType:o,vm:l}=t,s=l.runtime,n=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);if(n(s,`ext_${e}`)){const t="Palette overload.<br /><small>(MoreFields loaded twice)</small>",e=Object.prototype.toString;throw Object.prototype.toString=function(){throw new Error(t)},l.editingTarget={},l.emitTargetsUpdate(),setTimeout((function(){document.querySelector("p[class^=crash-message_error-message]").innerHTML=t,Object.prototype.toString=e}),100),new Error(t)}const r="DOOM1997"===l.runtime.ioDevices.userData._username,a=(new URLSearchParams(globalThis.location.search).has("MoreFields_InlineTextarea"),JSON.parse(localStorage["tw:addons"]||JSON.stringify(globalThis.scratchAddons?scratchAddons.globalState.addonSettings:{"custom-block-shape":{cornerSize:100,notchSize:100,paddingSize:100}}))["custom-block-shape"]||{cornerSize:100,notchSize:100,paddingSize:100}),d={};let c=null;const u=function(t,e){const i=parseInt(t.replace("#",""),16),o=(255&i)+e|(i>>8&255)+e<<8|(i>>16)+e<<16;return("#"===t.at(0)?"#":"")+o.toString(16)};function h(t,e,i){t.setAttribute(e,String(i)),t.style[e]=i}function p(t,e){t.removeAttribute(e),delete t.style[e]}function b(t,e,i){const o=-10,l=this.sourceBlock_,s=l?.parentBlock_;if(!s)return;const n=l?.svgPath_,r=n?.parentNode,a=r.querySelector("g.blocklyEditableText text"),d=s.colour_;l.colour_=e??u(s.colour_,o),l.colourSecondary_=u(s.colourSecondary_,o),l.colourTertiary_=u(s.colourTertiary_,o),l.colourQuaternary_=u(s?.colourQuaternary_??d,o),h(n,"fill",l.colour_),h(n,"stroke",l.colourTertiary_),t&&a&&h(a,"fill",i??"#FFFFFF")}function _(t){t??=!1,c.DropDownDiv.showPositionedByBlock(this,t?this.sourceBlock_:this.sourceBlock_.parentBlock_)}const m=s._convertBlockForScratchBlocks.bind(s);s._convertBlockForScratchBlocks=function(t,e,...i){const o=m(t,e,...i);return n(t,"blockShape")&&(o.json.outputShape=t.blockShape),o};const g=s._buildCustomFieldInfo.bind(s),N=s._buildCustomFieldTypeForScratchBlocks.bind(s);let y=null;s._buildCustomFieldInfo=function(t,e,i,o,...l){return y=e,g(t,e,i,o,...l)},s._buildCustomFieldTypeForScratchBlocks=function(t,e,i,o,...l){const s=N(t,e,i,o,...l);return y&&(y.color1&&(s.json.colour=y.color1),y.color2&&(s.json.colourSecondary=y.color2),y.color3&&(s.json.colourTertiary=y.color3),y.color4&&(s.json.colourQuaternary=y.color4),n(y,"output")&&(s.json.output=y.output),y=null),s};const F=[];l.addListener("EXTENSION_FIELD_ADDED",(t=>{c?c.Field.register(t.name,t.implementation):F.push([t.name,t.implementation])})),o.TEXTAREA="TextareaInput",o.INLINETEXTAREA="TextareaInputInline",o.SNAPBOOLEAN="SnapBoolean",o.INLINESLIDER="SliderInline",o.HIDDENSTRING="StringHidden",o.INLINEDATE="DateInline",o.FILE="FileInput";const x={FieldTextarea:null,FieldInlineTextarea:null,FieldSnapBoolean:null,FieldInlineSlider:null,FieldInlineDate:null,FieldFileInput:null,FieldInlineDoom:null};function I(t){c=t;const e=c.BlockSvg,i=SVGTextElement.prototype.setAttribute;SVGTextElement.prototype.setAttribute=function(t,e,...o){if("NaN"===String(e)&&("x"===t||"y"===t)&&"blocklyText"===this.getAttribute("class")){const e=`MoreFieldsAttrErr${t.toUpperCase()}`;return i.call(this,e,`Attempted an illegal set on this text node. ${t.toUpperCase()} was set to NaN.`),i.call(this,t,"0",...o)}return i.call(this,t,e,...o)};const l=c.BlockDragger.prototype.endBlockDrag;c.BlockDragger.prototype.endBlockDrag=function(...t){const e=l.apply(this,t);for(const t of this.draggingBlock_.childBlocks_){const e=t.inputList;1===e.length&&1===e[0].fieldRow.length&&e[0].fieldRow[0]?.inlineDblRender&&t.render()}return e};x.FieldTextarea=class extends c.FieldTextInput{constructor(t){super(o.TEXTAREA),this.addArgType("String"),this.addArgType(o.TEXTAREA)}showEditor_(){c.DropDownDiv.clearContent();const t=c.DropDownDiv.getContentDiv(),e=document.createElement("textarea");e.value=this.getValue(),t.append(e),this._textarea=e,e.addEventListener("input",(()=>this._onInput())),c.DropDownDiv.setColour(this.sourceBlock_.parentBlock_.getColour(),this.sourceBlock_.parentBlock_.getColourTertiary()),c.DropDownDiv.setCategory(this.sourceBlock_.parentBlock_.getCategory()),_.call(this)}init(...t){c.Field.prototype.init.call(this,...t),this.sourceBlock_.allowFieldConnection_=!0,this.sourceBlock_.isMoreFields_=!0,b.call(this,!1,"#FFFFFF","#FFFFFF")}_onInput(){this.setValue(this._textarea.value),_.call(this)}},x.FieldInlineTextarea=class extends c.Field{constructor(t){super(o.INLINETEXTAREA),this.addArgType("String"),this.addArgType(o.INLINETEXTAREA)}updateWidth(){if(this._textarea){const t=this._textarea.offsetWidth+1,i=this._textarea.offsetHeight+1;this._textareaHolder.setAttribute("width",String(t+3)),this._textareaHolder.setAttribute("height",String(i+3)),this.size_.width=t-e.NOTCH_START_PADDING+2*e.NOTCH_START_PADDING/3,this.size_.height=i+e.NOTCH_HEIGHT+1.5+e.NOTCH_START_PADDING/3}else this.size_.width=this._FakeWidth||40,this.size_.height=this._FakeHeight||24}dispose(){super.dispose()}init(...t){this.inlineDblRender=!0,c.Field.prototype.init.call(this,...t),this.textNode__=this.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"),this.textNode__&&this.sourceBlock_.parentBlock_&&(this.textNode__.style.display="none",b.call(this,!1,this.sourceBlock_.parentBlock_.colour_)),this._FakeWidth??=40,this._FakeHeight??=24;const i=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");i.setAttribute("x","6"),i.setAttribute("y",String(e.NOTCH_START_PADDING/2-.375)),i.addEventListener("mousedown",(t=>t.stopPropagation()));const o=document.createElement("textarea");o.value=this.getValue()??"",o.addEventListener("input",(()=>this._onInput())),o.addEventListener("mouseup",(()=>this._resizeHolder())),this.fieldGroup_&&(this.fieldGroup_.insertAdjacentElement("afterend",i),i.appendChild(o),this._textareaHolder=i,this._textarea=o,this.sourceBlock_&&this.sourceBlock_.isInFlyout&&(o.disabled=!0,o.style.resize="none"),new ResizeObserver((()=>this._resizeHolder())).observe(this._textarea)),this._resizeHolder()}_resizeHolder(){this.updateWidth();const t=this.getValue();this.setValue(t+"~"),this.setValue(t),this.render_()}_onInput(){this.setValue(this._textarea.value)}showEditor_(){}},x.FieldSnapBoolean=class extends c.Field{constructor(t){super(t=Number(t)),this.addArgType("Boolean"),this.addArgType(o.SNAPBOOLEAN),this.checkSymbol=String.fromCodePoint("10003"),this.slap=`${this.checkSymbol}   x`}dispose(...t){c.Field.prototype.dispose.call(this,...t),delete this.sliderCircle_}init(...t){c.Field.prototype.init.call(this,...t);const e=document.createElementNS("http://www.w3.org/2000/svg","circle");e.setAttribute("cx","0"),e.setAttribute("cy","0"),e.setAttribute("r",String(Math.min(this.size_.height-7.5,10))),e.setAttribute("fill","white"),this.sliderCircle_=e,this.fieldGroup_&&this.fieldGroup_.insertAdjacentElement("afterend",e),this.rerender()}updateCircle_(){this.sliderCircle_&&(this.textElement_?this.sliderCircle_.setAttribute("transform",`translate(${Number(this.textElement_.getAttribute("x"))-1.5}, ${(Number(this.textElement_.getAttribute("y"))||24)-2})`):this.sliderCircle_.setAttribute("transform","translate(16, 16"))}rerender(){this.updateCircle_();const t=this.fieldGroup_;if(!t)return;const e=t?.previousElementSibling;if("path"!==e?.nodeName)return;const i=this.sliderCircle_;i&&(Number(this.getValue())?(e.setAttribute("stroke","#21DD21"),e.setAttribute("fill","#21DD21"),i&&i.setAttribute("cx","20")):(e.setAttribute("stroke","#FF3333"),e.setAttribute("fill","#FF3333"),i&&i.setAttribute("cx","0")))}updateState(t,e){let i=Number(t);e&&(i=Number(!Number(this.getValue()))),this.setValue(i)}showEditor_(){this.updateState(0,!0),this.render_()}render_(){if(this.visible_&&this.textElement_){this.textElement_.textContent=this.slap,this.updateWidth();let t=(this.size_.width-this.arrowWidth_)/2;if(this.sourceBlock_.RTL&&(t+=this.arrowWidth_),this.sourceBlock_.isShadow()&&!this.positionArrow){const e=c.BlockSvg.FIELD_WIDTH/2;if(this.sourceBlock_.RTL){const i=this.size_.width-e;t=Math.min(i,t)}else t=Math.max(e,t)}this.textElement_.setAttribute("x",t)}this.box_&&(this.box_.setAttribute("width",this.size_.width),this.box_.setAttribute("height",this.size_.height)),this.rerender()}},x.FieldInlineSlider=class extends c.FieldNumber{constructor(t){super(o.INLINESLIDER),this.addArgType("Number"),this.addArgType(o.INLINESLIDER)}updateWidth(){this.size_.width=139}dispose(...t){c.FieldNumber.prototype.dispose.call(this,...t),this._slider&&this._slider.remove(),this._sliderHolder&&this._sliderHolder.remove(),delete this._slider,delete this._sliderHolder}init(...t){c.FieldNumber.prototype.init.call(this,...t),this.textNode__=this.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"),this.textNode__&&(this.textNode__.style.display="none",this.sourceBlock_.parentBlock&&b.call(this,!1,this.sourceBlock_.parentBlock_.colour_)),String(this.getValue()).includes(",")||this.setValue(`${this.getValue()},${Number(this.getValue())-Number(this.getValue())/2},${Number(this.getValue())+Number(this.getValue())/2}`);const e=this.getValue().split(","),i=document.createElement("input");i.type="range",i.value=Number(e[0]),i.min=Number(e[1]),i.max=Number(e[2]),i.width=139,i.height=16,i.addEventListener("input",(()=>this._onSliderInput()));const o=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");o.setAttribute("x","16"),o.setAttribute("y","8"),o.setAttribute("width","139"),o.setAttribute("height","16"),o.addEventListener("mousedown",(t=>t.stopPropagation())),this.fieldGroup_&&this.fieldGroup_.insertAdjacentElement("afterend",o),o.appendChild(i),this._slider=i,this._sliderHolder=o,this.render_()}_onInput(){this._valInput.min=this._minInput.value,this._valInput.max=this._maxInput.value,this._slider.value=this._valInput.value,this._slider.min=this._minInput.value,this._slider.max=this._maxInput.value;const t=`${this._slider.value},${this._minInput.value},${this._maxInput.value}`;this.setValue(t)}_onSliderInput(){this._valInput&&(this._valInput.value=Number(this._slider.value));const t=`${this._slider.value},${this._slider.min},${this._slider.max}`;this.setValue(t)}showEditor_(){c.DropDownDiv.clearContent();const t=c.DropDownDiv.getContentDiv(),e=document.createElement("input");e.type="number",e.value=Number(this._slider.min);const i=document.createElement("input");i.type="number",i.value=Number(this._slider.max);const o=document.createElement("input");o.type="number",o.value=Number(this._slider.value),o.min=e.value,o.max=i.value,t.append(document.createTextNode("Min: ")),t.append(e),t.append(document.createElement("br")),t.append(document.createTextNode("Value: ")),t.append(o),t.append(document.createElement("br")),t.append(document.createTextNode("Max: ")),t.append(i),this._minInput=e,this._maxInput=i,this._valInput=o,e.addEventListener("input",(()=>this._onInput())),i.addEventListener("input",(()=>this._onInput())),o.addEventListener("input",(()=>this._onInput())),c.DropDownDiv.setColour(this.sourceBlock_.parentBlock_.getColour(),this.sourceBlock_.parentBlock_.getColourTertiary()),c.DropDownDiv.setCategory(this.sourceBlock_.parentBlock_.getCategory()),_.call(this,!0)}},x.FieldHiddenTextInput=class extends c.FieldTextInput{constructor(t){super(o.HIDDENSTRING),this.addArgType("String"),this.addArgType(o.HIDDENSTRING)}init(...t){c.FieldTextInput.prototype.init.call(this,...t),this.textNode__=this.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"),this.textNode__&&this.sourceBlock_.parentBlock_&&b.call(this,!0,this.sourceBlock_.parentBlock_.colour_,this.sourceBlock_.parentBlock_.colour_)}showEditor_(...t){this.textNode__&&p(this.textNode__,"fill"),c.FieldTextInput.prototype.showEditor_.call(this,...t)}},x.FieldInlineDate=class extends c.Field{constructor(t){super(o.INLINEDATE),this.addArgType("Number"),this.addArgType(o.INLINEDATE)}updateWidth(){if(this._date){const t=this._date.getBoundingClientRect();this.size_.width=t.width,this.size_.height=t.height,this._dateHolder.setAttribute("width",String(t.width)),this._dateHolder.setAttribute("height",String(2*t.height))}else this._dateHolder&&(this._dateHolder.setAttribute("width","136"),this._dateHolder.setAttribute("height","22")),this.size_.width=136,this.size_.height=22}dispose(...t){c.FieldNumber.prototype.dispose.call(this,...t),this._date&&this._date.remove(),this._dateHolder&&this._dateHolder.remove(),delete this._date,delete this._dateHolder}init(...t){c.FieldNumber.prototype.init.call(this,...t),this.textNode__=this.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"),this.textNode__&&(this.textNode__.style.display="none",this.sourceBlock_.parentBlock_&&b.call(this,!1,this.sourceBlock_.parentBlock_.colour_));/(\d{4}(\-|\/)\d{2}(\-|\/)\d{2})/i.test(this.getValue())||this.setValue("2001-01-01");const e=new Date(this._getDate()),i=this._dateFormat(e);this.setValue(i);const o=document.createElement("input");o.type="date",this._fixDate(o),o.addEventListener("input",(()=>this._onInput())),o.addEventListener("change",(()=>this._onInput()));const l=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");l.setAttribute("x","8"),l.setAttribute("y","5"),l.addEventListener("mousedown",(t=>t.stopPropagation())),this.fieldGroup_&&this.fieldGroup_.insertAdjacentElement("afterend",l),l.appendChild(o),this._date=o,this._dateHolder=l,this.render_()}_onInput(){this.setValue(this._date.value.toString())}_getDate(){return this.getValue().replaceAll("-","/")}_dateFormat(t){return`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")}`}_fixDate(t){const e=new Date(this._getDate()),i=this._dateFormat(e),o=e.getTime();t.valueAsNumber=o,t.value=i}showEditor_(){}};const s='style="fill:#FFFFFF;stroke:#FFFFFF;" fill="#FFFFFF" stroke="#FFFFFF"',n=`data:image/svg+xml;base64,${btoa(`<svg ${s} xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/></svg>`)}`,r=`data:image/svg+xml;base64,${btoa(`<svg ${s} xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>`)}`;x.FieldFileInput=class extends c.Field{constructor(t){super(o.FILE),this.addArgType("String"),this.addArgType(o.FILE)}updateWidth(){this.size_.width=40}dispose(...t){c.FieldTextInput.prototype.dispose.call(this,...t),this._settingsButton&&this._settingsButton.remove(),this._uploadButton&&this._uploadButton.remove(),delete this._settingsButton,delete this._uploadButton}init(...t){this._delim="\n",c.FieldTextInput.prototype.init.call(this,...t),this.textNode__=this.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"),this.textNode__&&(this.textNode__.style.display="none",this.sourceBlock_.parentBlock_&&b.call(this,!1,this.sourceBlock_.parentBlock_.colour_)),this._fileData=this.getValue()??null;const e=this.fieldGroup_;if(!e)return;const i=e?.previousElementSibling;if("path"!==i?.nodeName)return;const o=document.createElementNS("http://www.w3.org/2000/svg","image");o.setAttribute("width","24"),o.setAttribute("height","24"),o.setAttribute("x","19.5"),o.setAttribute("y","4"),o.setAttribute("xlink:href",n),o.setAttribute("href",n),o.addEventListener("mousedown",(t=>this._onSettingsClick(t))),this._settingsButton=o;const l=document.createElementNS("http://www.w3.org/2000/svg","image");l.setAttribute("width","24"),l.setAttribute("height","24"),l.setAttribute("x","-4"),l.setAttribute("y","3.5"),l.setAttribute("xlink:href",r),l.setAttribute("href",r),l.addEventListener("mousedown",(t=>this._onUploadClick(t))),this._uploadButton=l,e.appendChild(o),e.appendChild(l),this._saveFileData()}_loadData(t){const e=this.getValue(),i=e.indexOf(this._delim),o=e.indexOf(this._delim,i+1);switch(t){case 1:this._fileData=e.substr(o+1);break;case 2:this._outputOptions.value=e.slice(0,i);break;case 3:this._fileLimiter.value=e.slice(i+1,o)}}_saveFileData(t){t||this._loadData(1),this.showEditor_(!0),this._onInput(this._fileData),c.DropDownDiv.hideWithoutAnimation(),this._fileData=null}_onSettingsClick(t){t.stopPropagation(),this.showEditor_(!0)}_onUploadClick(t){t.stopPropagation();const e=document.createElement("input");this.showEditor_(!0),e.type="file",e.accept=this._fileLimiter.value.replaceAll(this._delim,"").trim()||"*.*";const i=this._outputOptions.value;c.DropDownDiv.hideWithoutAnimation();const o=(t,i)=>((t=!t)&&(this._uploadButton.style.display="block",e.remove(),alert(i)),t);e.addEventListener("change",(t=>{this._uploadButton.style.display="none";const l=t.target.files;let s=()=>!1;const n=()=>(l.length<0&&(s=()=>o(!0,"No file uploaded?")),!0);if(globalThis.addEventListener("focus",n,{once:!0}),n()&&s())return;const r=new FileReader;r.addEventListener("load",(t=>{this._fileData=t.target.result,this._saveFileData(!0),this._uploadButton.style.display="block",e.remove(),alert("File uploaded.")}));const a=l[0];if(!o(!!a,"File is null?!!??"))switch(i){case"dataURL":r.readAsDataURL(a);break;case"text":r.readAsText(a);break;default:if(o(!1,"Invalid output option."))return}})),e.click()}_getFileData(){if(this._fileData)return this._fileData;this._loadData(1);const t=this._fileData??"";return this._fileData=null,t}_onInput(t){this._fileLimiter.value.trim().length<1&&(this._fileLimiter.value="*.*"),this.setValue(`${this._outputOptions.value}${this._delim}${this._fileLimiter.value.replaceAll(this._delim,"")}${this._delim}${t??this._getFileData()}`)}_optDropdown(t,...e){e=(e??[]).map((e=>`<option value="${e}"${t===e?'selected=""':""}>${e}</option>`)).join("\n");return{select:document.createElement("select"),optValues:e}}showEditor_(t){if(!t)return;c.DropDownDiv.clearContent();const e=c.DropDownDiv.getContentDiv();if(!e)return;const i=this._optDropdown("dataURL","dataURL","text"),o=i.select;o.addEventListener("input",(()=>this._onInput()));const l=document.createElement("input");l.addEventListener("input",(()=>this._onInput()));const s=document.createElement("button");this._getFileData().at(0)&&(s.addEventListener("click",(()=>{this._fileData=null,this._onInput(""),s.nextElementSibling.remove(),s.remove()})),e.appendChild(s),s.textContent="Clear file.",e.appendChild(document.createElement("br"))),e.appendChild(document.createTextNode("Upload as: ")),e.appendChild(o),o.innerHTML=i.optValues,e.appendChild(document.createElement("br")),e.appendChild(document.createTextNode("Limit file types: ")),e.appendChild(l),e.appendChild(document.createElement("br")),this._outputOptions=o,this._fileLimiter=l,this.sourceBlock_.parentBlock&&(c.DropDownDiv.setColour(this.sourceBlock_.parentBlock_.getColour(),this.sourceBlock_.parentBlock_.getColourTertiary()),c.DropDownDiv.setCategory(this.sourceBlock_.parentBlock_.getCategory())),_.call(this,!0),this._loadData(2),this._loadData(3)}},x.FieldInlineDoom=class extends c.Field{showEditor_(){}constructor(t){super("InlineDoom"),this.addArgType("String"),this.addArgType("InlineDoom")}updateWidth(){this.size_.width=650,this.size_.height=410}dispose(...t){c.Field.prototype.dispose.call(this,...t),this._fObj&&this._fObj.remove(),delete this._fObj}init(...t){this.inlineDblRender=!0,c.Field.prototype.init.call(this,...t),this.textNode__=this.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"),this.textNode__&&(this.textNode__.style.display="none",this.sourceBlock_.parentBlock_&&b.call(this,!1,this.sourceBlock_.parentBlock_.colour_));const e=this.fieldGroup_;if(!e)return;const i=e?.previousElementSibling;if("path"!==i?.nodeName)return;const o=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");o.setAttribute("width","650"),o.setAttribute("height","410"),o.setAttribute("x","0"),o.setAttribute("y","0"),this._fObj=o,this.fg_=e,this.fieldGroup_&&this.fieldGroup_.insertAdjacentElement("afterend",o),this._addDOOM()}_addDOOM(){const t=document.createElement("iframe");t.width=640,t.height=400,t.id="DOOM",this._fObj.appendChild(t),
/**!
          * 
          * ORIGINAL: https://diekmann.github.io/wasm-fizzbuzz/doom/
          * Ported for use in turbowarp blocks
          * 
          */
t.srcdoc=atob("PCEtLSBPUklHSU5BTDogaHR0cHM6Ly9kaWVrbWFubi5naXRodWIuaW8vd2FzbS1maXp6YnV6ei9kb29tLyAtLT48IWRvY3R5cGVodG1sPjxodG1sPjxib2R5PjxET09NPjxzdHlsZT4jb3V0cHV0e2JvcmRlcjozcHggZ3Jvb3ZlICM3ZmZmZDQ7YmFja2dyb3VuZC1jb2xvcjpiaXNxdWU7d2lkdGg6NTUwcHg7aGVpZ2h0OjQwMHB4O2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxzZXJpZjtmb250LXNpemU6MTBweDtvdmVyZmxvdy15OnNjcm9sbH0jb3V0cHV0IHNwYW4ubG9ne2NvbG9yOiM0ODNkOGJ9I291dHB1dCBzcGFuLnN0ZG91dHtjb2xvcjojMDAwfSNvdXRwdXQgc3Bhbi5zdGRlcnJ7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOmJyb3dufS5jb250YWluZXJ7ZGlzcGxheTpmbGV4fSp7bWFyZ2luOjBweDtwYWRkaW5nOjBweH08L3N0eWxlPjxzcGFuIGhpZGRlbj48cCBpZD1mb2N1c2hpbnQ+PC9wPjxwPjxidXR0b24gaWQ9ZW50ZXJCdXR0b24+PC9idXR0b24+PGJ1dHRvbiBpZD1sZWZ0QnV0dG9uPjwvYnV0dG9uPjxidXR0b24gaWQ9dXBCdXR0b24+PC9idXR0b24+PGJ1dHRvbiBpZD1kb3duQnV0dG9uPjwvYnV0dG9uPjxidXR0b24gaWQ9cmlnaHRCdXR0b24+PC9idXR0b24+IDxidXR0b24gaWQ9Y3RybEJ1dHRvbj48L2J1dHRvbj48YnV0dG9uIGlkPXNwYWNlQnV0dG9uPjwvYnV0dG9uPiA8YnV0dG9uIGlkPWFsdEJ1dHRvbj48L2J1dHRvbj48L3A+PC9zcGFuPjxkaXYgY2xhc3M9Y29udGFpbmVyPjxjYW52YXMgaGVpZ2h0PTQwMCBpZD1zY3JlZW4gdGFiaW5kZXg9MCB3aWR0aD02NDA+VGhpcyBpcyB3aGVyZSB0aGUgRG9vTSBzY3JlZW4gc2hvdWxkIHJlbmRlci48L2NhbnZhcz48ZGl2IGhpZGRlbiBpZD1vdXRwdXQ+PC9kaXY+PC9kaXY+PHNwYW4gaGlkZGVuPjxzcGFuIGlkPWdldG1zcHNfc3RhdHM+PC9zcGFuPjxzcGFuIGlkPWdldG1zX3N0YXRzPjwvc3Bhbj4gPHNwYW4gaWQ9ZnBzX3N0YXRzPjwvc3Bhbj48c3BhbiBpZD1kcmF3ZnJhbWVzX3N0YXRzPjwvc3Bhbj4gPHNwYW4gaWQ9YW5pbWF0aW9uZnBzX3N0YXRzPjwvc3Bhbj48L3NwYW4+PHNjcmlwdCBkZWZlcj4idXNlIHN0cmljdCI7dmFyIG1lbW9yeT1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOjEwOH0pO2NvbnN0IG91dHB1dD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3V0cHV0Iik7ZnVuY3Rpb24gcmVhZFdhc21TdHJpbmcodCxlKXtsZXQgbj1uZXcgVWludDhBcnJheShtZW1vcnkuYnVmZmVyLHQsZSk7cmV0dXJuIG5ldyBUZXh0RGVjb2RlcigidXRmOCIpLmRlY29kZShuKX1mdW5jdGlvbiBjb25zb2xlTG9nU3RyaW5nKHQsZSl7bGV0IG49cmVhZFdhc21TdHJpbmcodCxlKTtjb25zb2xlLmxvZygnIicrbisnIicpfWZ1bmN0aW9uIGFwcGVuZE91dHB1dCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtsZXQgcz1yZWFkV2FzbVN0cmluZyhlLG4pLnNwbGl0KCJcbiIpO2Zvcih2YXIgYT0wO2E8cy5sZW5ndGg7KythKWlmKDAhPXNbYV0ubGVuZ3RoKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ci5jbGFzc0xpc3QuYWRkKHQpLHIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc1thXSkpLG91dHB1dC5hcHBlbmRDaGlsZChyKSxvdXRwdXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSksci5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6InNtb290aCIsYmxvY2s6ImVuZCIsaW5saW5lOiJuZWFyZXN0In0pfX19Y29uc3QgZ2V0bXNwc19zdGF0cz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2V0bXNwc19zdGF0cyIpLGdldG1zX3N0YXRzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnZXRtc19zdGF0cyIpO3ZhciBnZXRtc19jYWxsc190b3RhbD0wLGdldG1zX2NhbGxzPTA7ZnVuY3Rpb24gZ2V0TWlsbGlzZWNvbmRzKCl7cmV0dXJuKytnZXRtc19jYWxscyxwZXJmb3JtYW5jZS5ub3coKX13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtnZXRtc19jYWxsc190b3RhbCs9Z2V0bXNfY2FsbHMsZ2V0bXNwc19zdGF0cy5pbm5lclRleHQ9Z2V0bXNfY2FsbHMvMWUzKyJrIixnZXRtc19zdGF0cy5pbm5lclRleHQ9Z2V0bXNfY2FsbHNfdG90YWwsZ2V0bXNfY2FsbHM9MH0sMWUzKTtjb25zdCBjYW52YXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjcmVlbiIpLGRvb21fc2NyZWVuX3dpZHRoPTY0MCxkb29tX3NjcmVlbl9oZWlnaHQ9NDAwLGZwc19zdGF0cz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZnBzX3N0YXRzIiksZHJhd2ZyYW1lc19zdGF0cz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZHJhd2ZyYW1lc19zdGF0cyIpO3ZhciBudW1iZXJfb2ZfZHJhd3NfdG90YWw9MCxudW1iZXJfb2ZfZHJhd3M9MDtmdW5jdGlvbiBkcmF3Q2FudmFzKHQpe3ZhciBlPW5ldyBVaW50OENsYW1wZWRBcnJheShtZW1vcnkuYnVmZmVyLHQsMTAyNGUzKSxuPW5ldyBJbWFnZURhdGEoZSw2NDAsNDAwKTtjYW52YXMuZ2V0Q29udGV4dCgiMmQiKS5wdXRJbWFnZURhdGEobiwwLDApLCsrbnVtYmVyX29mX2RyYXdzfXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe251bWJlcl9vZl9kcmF3c190b3RhbCs9bnVtYmVyX29mX2RyYXdzLGRyYXdmcmFtZXNfc3RhdHMuaW5uZXJUZXh0PW51bWJlcl9vZl9kcmF3c190b3RhbCxmcHNfc3RhdHMuaW5uZXJUZXh0PW51bWJlcl9vZl9kcmF3cyxudW1iZXJfb2ZfZHJhd3M9MH0sMWUzKTt2YXIgaW1wb3J0T2JqZWN0PXtqczp7anNfY29uc29sZV9sb2c6YXBwZW5kT3V0cHV0KCJsb2ciKSxqc19zdGRvdXQ6YXBwZW5kT3V0cHV0KCJzdGRvdXQiKSxqc19zdGRlcnI6YXBwZW5kT3V0cHV0KCJzdGRlcnIiKSxqc19taWxsaXNlY29uZHNfc2luY2Vfc3RhcnQ6Z2V0TWlsbGlzZWNvbmRzLGpzX2RyYXdfc2NyZWVuOmRyYXdDYW52YXN9LGVudjp7bWVtb3J5Om1lbW9yeX19O1dlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGZldGNoKCJodHRwczovL21peW8ubG9sL2Rvb20ud2FzbSIpLGltcG9ydE9iamVjdCkudGhlbih0PT57dC5pbnN0YW5jZS5leHBvcnRzLm1haW4oKTtsZXQgZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSA4OnJldHVybiAxMjc7Y2FzZSAxNzpyZXR1cm4gMTU3O2Nhc2UgMTg6cmV0dXJuIDE4NDtjYXNlIDM3OnJldHVybiAxNzI7Y2FzZSAzODpyZXR1cm4gMTczO2Nhc2UgMzk6cmV0dXJuIDE3NDtjYXNlIDQwOnJldHVybiAxNzU7ZGVmYXVsdDppZih0Pj02NSYmdDw9OTApcmV0dXJuIHQrMzI7aWYodD49MTEyJiZ0PD0xMjMpcmV0dXJuIHQrNzU7cmV0dXJuIHR9fSxuPWZ1bmN0aW9uKGUpe3QuaW5zdGFuY2UuZXhwb3J0cy5hZGRfYnJvd3Nlcl9ldmVudCgwLGUpfSxzPWZ1bmN0aW9uKGUpe3QuaW5zdGFuY2UuZXhwb3J0cy5hZGRfYnJvd3Nlcl9ldmVudCgxLGUpfTtjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24odCl7bihlKHQua2V5Q29kZSkpLHQucHJldmVudERlZmF1bHQoKX0sITEpLGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24odCl7cyhlKHQua2V5Q29kZSkpLHQucHJldmVudERlZmF1bHQoKX0sITEpLFtbImVudGVyQnV0dG9uIiwxM10sWyJsZWZ0QnV0dG9uIiwxNzJdLFsicmlnaHRCdXR0b24iLDE3NF0sWyJ1cEJ1dHRvbiIsMTczXSxbImRvd25CdXR0b24iLDE3NV0sWyJjdHJsQnV0dG9uIiwxNTddLFsic3BhY2VCdXR0b24iLDMyXSxbImFsdEJ1dHRvbiIsMTg0XV0uZm9yRWFjaCgoW3QsZV0pPT57Y29uc29sZS5sb2codCsiIGZvciAiK2UpO3ZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO2EuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsKCk9Pm4oZSkpLGEuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCgpPT5zKGUpKSxhLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIiwoKT0+cyhlKSl9KTtsZXQgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9jdXNoaW50Iikscj1mdW5jdGlvbih0KXthLmlubmVyVGV4dD0iS2V5Ym9hcmQgZXZlbnRzIHdpbGwgYmUgY2FwdHVyZWQgYXMgbG9uZyBhcyB0aGUgdGhlIERPT00gY2FudmFzIGhhcyBmb2N1cy4iLGEuc3R5bGUuZm9udFdlaWdodD0ibm9ybWFsIn07Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzaW4iLHIsITEpLGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJmb2N1c291dCIsZnVuY3Rpb24odCl7YS5pbm5lclRleHQ9IkNsaWNrIG9uIHRoZSBjYW52YXMgdG8gY2FwdXRlIGlucHV0IGFuZCBzdGFydCBwbGF5aW5nLiIsYS5zdHlsZS5mb250V2VpZ2h0PSJib2xkIn0sITEpLGNhbnZhcy5mb2N1cygpLHIoKTtsZXQgbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5pbWF0aW9uZnBzX3N0YXRzIik7dmFyIHU9MDtmdW5jdGlvbiBjKGUpeysrdSx0Lmluc3RhbmNlLmV4cG9ydHMuZG9vbV9sb29wX3N0ZXAoKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGMpfXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe28uaW5uZXJUZXh0PXUsdT0wfSwxZTMpLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYyl9KTs8L3NjcmlwdD48L0RPT00+PC9ib2R5PjwvaHRtbD4=")}},I._registerFields()}d[o.TEXTAREA]={output:o.STRING,color1:"#9566d3",outputShape:2,implementation:{fromJson:()=>new x.FieldTextarea}},d[o.INLINETEXTAREA]={output:o.STRING,color1:"#9566d3",outputShape:3,implementation:{fromJson:()=>new x.FieldInlineTextarea}},d[o.SNAPBOOLEAN]={output:o.BOOLEAN,color1:"#9566d3",outputShape:1,implementation:{fromJson:()=>new x.FieldSnapBoolean}},d[o.INLINESLIDER]={output:o.NUMBER,color1:"#9566d3",outputShape:3,implementation:{fromJson:()=>new x.FieldInlineSlider}},d[o.HIDDENSTRING]={output:o.STRING,color1:"#9566d3",outputShape:2,implementation:{fromJson:()=>new x.FieldHiddenTextInput}},d[o.INLINEDATE]={output:o.NUMBER,color1:"#9566d3",outputShape:3,implementation:{fromJson:()=>new x.FieldInlineDate}},d[o.FILE]={output:null,color1:"#9566d3",outputShape:3,implementation:{fromJson:()=>new x.FieldFileInput}},d.InlineDoom={output:[],color1:"#9566d3",outputShape:3,implementation:{fromJson:()=>new x.FieldInlineDoom}},I._on=new Set,I.when=function(t){c?t(c):I._on.add((()=>t(c)))},I._registerFields=function(){for(;F.length>0;){const[t,e]=F.shift();c.Field.register(t,e)}I._hardRefresh()},I._hardRefresh=function(){l.extensionManager.refreshBlocks();const t=c.Events.isEnabled(),e=c.getMainWorkspace();try{if(c.Events.disable(),e){l.editingTarget&&l.emitWorkspaceUpdate();const t=e.getFlyout();if(t){const i=t.getWorkspace();c.Xml.clearWorkspaceAndLoadFromXml(c.Xml.workspaceToDom(i),i),e.getToolbox().refreshSelection(),e.toolboxRefreshEnabled_=!0}}}catch(t){console.error("Error while refreshing toolbox and workspace.",t)}finally{t&&c.Events.enable()}},I._badRefresh=function(t){t.resetDragSurface();try{t.getFlyout().clearOldBlocks_(),l.extensionManager.refreshBlocks(),t.refreshToolboxSelection_()}catch{}},"object"==typeof t?.gui&&t.gui.getBlockly().then((t=>I(t)));const E=t=>t.replace(/[<>&'"]/g,(t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}}));class Z{static get customFieldTypes(){return d}static get fieldInfo(){return y}static PRIV_extensionField(t,e,i){return this._registered[i.fieldInfo.name.toUpperCase()].getValue(t,e,i)}static hideDropdown(){c&&c.DropDownDiv.isVisible()&&(c.DropDownDiv.clearContent(),c.DropDownDiv.hide())}static fixDropdown(t){c&&(c.DropDownDiv.isVisible()||(t.sourceBlock_.parentBlock&&(c.DropDownDiv.setColour(t.sourceBlock_.parentBlock_.getColour(),t.sourceBlock_.parentBlock_.getColourTertiary()),c.DropDownDiv.setCategory(t.sourceBlock_.parentBlock_.getCategory())),_.call(t,!0)))}static setPathColour(t,e){const i=t.fieldGroup_;if(!i)return;const o=i?.previousElementSibling;"path"===o?.nodeName&&(o.setAttribute("stroke",e),o.setAttribute("fill",e))}static fixTextNode(t,e){t.sourceBlock_&&(t.textNode__=t.sourceBlock_.svgPath_.parentNode.querySelector("g.blocklyEditableText text"))&&h(t.textNode__,"fill",e??"#FFFFFF")}static _registered=Object.create(null);static _register=new Set;static _patch=new Set;constructor(){l.on("CREATE_UNSANDBOXED_EXTENSION_API",(t=>{const e=t.extensions.register;t.extensions.register=t=>(this.constructor._patch.has(t.getInfo().id)&&(t.extensionField=this.constructor.PRIV_extensionField.bind(this.constructor)),e(t))}))}static register(t,n,r,a){const c=n.name.toUpperCase();if(this._register.has(c))throw new Error(`"${n.name}" already exists.`);this._register.add(c),this._patch.add(t),o[c]=c,n.blockType??=i.REPORTER,n.defaultValue??="",n.text??="[FIELD]",n.xml??="",n.output??=null,n.outputShape??=3,n.color1??="#9566d3",n.color2??=n.color1,n.color3??=n.color1,n.color4??=n.color1,x[`ceb${c}`]=null;const u=d[c]=n.fi={name:c,output:n.output,color1:n.color1,color2:n.color2,color3:n.color3,color4:n.color4,outputShape:n.outputShape,implementation:{fromJson:(...t)=>new x[`ceb${c}`](...t)}};return this._registered[c]={getValue:r,getField:a,opts:n,fi:u},I.when((t=>{t.defineBlocksWithJsonArray([{type:`${e}_${c}`,message0:"%1",inputsInline:!0,output:n.output,colour:n.color1,colourSecondary:n.color2,colourTertiary:n.color3,outputShape:n.outputShape,args0:[{name:`field_${e}_${c}`,type:`field_${e}_${c}`}]}]);const i=a(t);x[`ceb${c}`]=i,this._register.delete(c),0===this._register.size&&(s.emit("BLOCKINFO_UPDATE",s[`ext_${e}`].getInfo()),I._registerFields(),globalThis.ReduxStore&&setTimeout((()=>{const e=t.getMainWorkspace();l.clearFlyoutBlocks(),s.flyoutBlocks.resetCache(),e.updateToolbox(ReduxStore.getState().scratchGui.toolbox.toolboxXML),I._badRefresh(e),setTimeout((()=>I._badRefresh(e)),100)}),250))})),l.emit("EXTENSION_FIELD_ADDED",Object.assign(u,{name:`field_${e}_${c}`})),[{fieldInfo:n,blockType:n.blockType,outputShape:n.outputShape,blockShape:n.outputShape,func:"extensionField",opcode:`ceb${c}`,text:n.text,arguments:{FIELD:{type:c,defaultValue:n.defaultValue}},allowDropAnywhere:null===n.output,hideFromPalette:!0},{blockType:i.XML,xml:`<block type="${t}_ceb${c}">${n.xml}<value name="FIELD"><shadow type="${e}_${c}"><field name="field_${e}_${c}">${E(n.defaultValue)}</field></shadow></value></block>`}]}}class T extends Z{static exports={hasOwn:n,_LDC:u,_setCssNattr:h,_delCssNattr:p,_fixColours:b,_moveDropdown:_,extensionAPI:Z,xmlEscape:E,get padding(){return a}};getInfo(){return{id:e,name:"More Fields",color1:"#9566d3",color2:"#9566d3",color3:"#9566d3",color4:"#9566d3",blocks:[{hideFromPalette:!0,opcode:"multifieldTest",blockType:i.REPORTER,text:"file [FILE] snap bool [BOOL] slider [NUM]",arguments:{FILE:{type:o.FILE,defaultValue:"dataURL\n*/*\n"},BOOL:{type:o.SNAPBOOLEAN,defaultValue:0},NUM:{type:o.INLINESLIDER,defaultValue:"10,0,20"}},allowDropAnywhere:!0,blockShape:3},{opcode:"textarea",blockType:i.REPORTER,text:"textarea [TEXT]",arguments:{TEXT:{type:o.TEXTAREA,defaultValue:":D"}},allowDropAnywhere:!0,blockShape:2},{opcode:"textareaInline",blockType:i.REPORTER,text:"textarea [TEXT]",arguments:{TEXT:{type:o.INLINETEXTAREA,defaultValue:":D"}},allowDropAnywhere:!0,blockShape:3},{blockType:i.XML,xml:'<sep gap="46" />'},{opcode:"snapBool",blockType:i.BOOLEAN,text:"[BOOL]",arguments:{BOOL:{type:o.SNAPBOOLEAN,defaultValue:0}},allowDropAnywhere:!0,blockShape:1},{opcode:"sliderInline",blockType:i.REPORTER,text:"slider: [NUM]",arguments:{NUM:{type:o.INLINESLIDER,defaultValue:"10,0,20"}},allowDropAnywhere:!0,blockShape:3},{opcode:"hiddenString",blockType:i.REPORTER,text:'"secret" [TEXT]',arguments:{TEXT:{type:o.HIDDENSTRING,defaultValue:"oo a secret ;)"}},allowDropAnywhere:!0,blockShape:2},{opcode:"date",blockType:i.REPORTER,text:"date [DATE]",arguments:{DATE:{type:o.INLINEDATE,defaultValue:"2024-03-14"}},allowDropAnywhere:!0,blockShape:3},{opcode:"file",blockType:i.REPORTER,text:"file [FILE]",arguments:{FILE:{type:o.FILE,defaultValue:"dataURL\n*/*\n"}},allowDropAnywhere:!0,blockShape:3},{hideFromPalette:!r,opcode:"DOOM",blockType:i.COMMAND,text:"DOOM [_a]",arguments:{_a:{type:"InlineDoom",defaultValue:""}}}],customFieldTypes:d}}multifieldTest(){}textarea(t){return t.TEXT}textareaInline(t){return t.TEXT}snapBool(e){return t.Cast.toBoolean(e.BOOL)}sliderInline(e){try{return t.Cast.toNumber(e.NUM.split(",")[0])}catch{return""}}hiddenString(t){return t.TEXT}date(e){try{return new Date(t.Cast.toString(e.DATE).replaceAll("-","/")).getTime()}catch{return""}}file(e){e.FILE=t.Cast.toString(e.FILE);try{const t=e.FILE.indexOf("\n"),i=e.FILE.indexOf("\n",t+1);return e.FILE.substr(i+1)}catch{return""}}DOOM(){return""}}const w=s[`ext_${e}`]=new T;t.extensions.register(w),l._events.MOREFIELDS_REGISTERED=()=>{},l.emit("MOREFIELDS_REGISTERED",w,T)}(Scratch);