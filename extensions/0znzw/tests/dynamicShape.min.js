/**!
 * Dynamic Shape
 * @author 0znzw <meow@miyo.icu> (@link https://scratch.mit.edu/users/0znzw/)
 * @version 1.0
 * @license MIT AND LGPL-3.0
 * Do not remove this comment
 */
!function(t){const{BlockType:e,vm:s}=t,{runtime:n}=s,i="0znzwDynmShape";t.gui&&t.gui.getBlockly().then(t=>{t.Blocks[`${i}_dynamicShape`]={init:function(){this._writeShape=function(e){switch(this._lastShape=e,e){case"stack":this.setOutputShape(null),this.setOutput(null),this.setPreviousStatement(!0),this.setNextStatement(!0);break;case"reporter":this.setOutputShape(t.OUTPUT_SHAPE_ROUND),this.setOutput("String"),this.setPreviousStatement(!1),this.setNextStatement(!1);break;case"boolean":this.setOutputShape(t.OUTPUT_SHAPE_HEXAGONAL),this.setOutput("Boolean"),this.setPreviousStatement(!1),this.setNextStatement(!1);break;default:console.warn("Unknown shape",e),this.setOutputShape(t.OUTPUT_SHAPE_SQUARE),this.setOutput(null),this.setPreviousStatement(void 0),this.setNextStatement(void 0)}},this._menuCallback=function(e){t.Events.setGroup(!0);const s=t.Xml.domToText(this.sourceBlock_.mutationToDom());this.sourceBlock_._writeShape(e);const n=t.Xml.domToText(this.sourceBlock_.mutationToDom());return t.Events.fire(new t.Events.BlockChange(this.sourceBlock_,"mutation",null,s,n)),this.setValue(e),t.Events.setGroup(!1),null},this.jsonInit({type:`${i}_dynamicShape`,message0:"shape: ",args0:[],output:null}),this.appendDummyInput().appendField(new ScratchBlocks.FieldDropdown([["stack","stack"],["reporter","reporter"],["boolean","boolean"]],this._menuCallback),"SHAPE"),this._writeShape("stack")},mutationToDom:function(){const t=document.createElement("mutation");return t.setAttribute("shapeoutput",this._lastShape),t},domToMutation:function(t){this._writeShape(t.getAttribute("shapeoutput"))}}});const a=new class{getInfo(){return{id:i,name:"Dynm Shape",blocks:[{blockType:e.XML,xml:`<block type="${i}_dynamicShape"><field name="SHAPE">stack</field></block>`}]}}dynamicShape({SHAPE:t}){return alert(t),t}};n._primitives[`${i}_dynamicShape`]=a.dynamicShape.bind(a),t.extensions.register(n[`cext_${i}`]=a)}(Scratch);