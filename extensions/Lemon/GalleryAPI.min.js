/*!
  License: MIT
*/
!function(e){"use strict";if(!e.extensions.unsandboxed)throw new Error("The 'History Api Extension' requires to be unsandboxed!");e.extensions.register(new class{getInfo(){return{id:"lemonHistory",name:"Web History API",docsURI:"https://developer.mozilla.org/en-US/docs/Web/API/History_API",blocks:[{opcode:"history",blockType:e.BlockType.REPORTER,text:"window history"},{opcode:"back",blockType:e.BlockType.COMMAND,text:"go back"},{opcode:"forward",blockType:e.BlockType.COMMAND,text:"go forward"},{opcode:"go",blockType:e.BlockType.COMMAND,text:"go [times]",arguments:{times:{type:e.ArgumentType.NUMBER}}},{opcode:"state",blockType:e.BlockType.REPORTER,text:"history state"},{opcode:"push",blockType:e.BlockType.COMMAND,text:"push [pageID] [userID] with link [url]",arguments:{pageID:{type:e.ArgumentType.NUMBER,defaultValue:1},userID:{type:e.ArgumentType.NUMBER,defaultValue:5},url:{type:e.ArgumentType.STRING,defaultValue:"https://turbowarp.org/"}}},{opcode:"supported",blockType:e.BlockType.BOOLEAN,text:"api supported?"}]}}supported(){return!!window.history}history(){return JSON.stringify(window.history)}forward(){window.history.forward()}back(){window.history.back()}go(t){window.history.go(e.Cast.toNumber(t.times))}push(t){const o={page_id:e.Cast.toNumber(t.pageID),user_id:e.Cast.toNumber(t.userID)},r=e.Cast.toString(t.url);window.history.pushState(o,"",r)}state(){return JSON.stringify(window.history.state)}})}(Scratch);