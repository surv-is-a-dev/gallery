!function(e){const t=e.ArgumentType,a=e.BlockType;const o={availableLocales:["en","fr"],messages:{"get current URL":{en:"current URL",fr:"URL actuelle"},"check field existence in URL":{en:"field [FIELD] exists in current URL",fr:"le champ [FIELD] existe dans l'URL courante"},"get field value from URL":{en:"field [FIELD] in current URL",fr:"champ [FIELD] de l'URL courante"},"set field value from URL":{en:"set field [FIELD] in current URL to [VALUE]",fr:"mettre le champ [FIELD] de l'URL courante à [VALUE]"},"open URL":{en:"open [URL] URL",fr:"ouvrir l'URL [URL]"},"save as file":{en:"save [CONTENT] as file [FILE_NAME]",fr:"enregistrer [CONTENT] dans le fichier [FILE_NAME]"},"open text file":{en:"ask the user to open a text file",fr:"demander à l'utilisateur d'ouvrir un fichier texte"},"open binary file":{en:"ask the user to open a binary file",fr:"demander à l'utilisateur d'ouvrir un fichier binaire"},"localStorage set item":{en:"set [NAME] to [VALUE] in local storage",fr:"localStorage : mettre [NAME] à [VALUE]"},"localStorage get item":{en:"item [NAME] in local storage",fr:"localStorage : [NAME]"},"localStorage remove item":{en:"remove [NAME] from local storage",fr:"localStorage : supprimer [NAME]"},"localStorage item exists":{en:"item [NAME] exists in local storage?",fr:"localStorage : l'élément [NAME] existe?"},"set HTML":{en:"set HTML to [NAME]",fr:"mettre le HTML à [NAME]"},"take picture and save it to file":{en:"save webcam picture to file [PICTURE_NAME]",fr:"enregistrer la webcam dans le fichier [PICTURE_NAME]"},"save webcam picture":{en:"save webcam picture",fr:"enregistrer la webcam"},"window alert":{en:"dialog [MESSAGE]",fr:"dialogue [MESSAGE]"},"window prompt as reporter":{en:"dialog with question [QUESTION] and default [DEFAULT]",fr:"dialogue avec question [QUESTION] et valeur [DEFAULT]"},"window prompt without default as reporter":{en:"dialog with question [QUESTION]",fr:"dialogue avec question [QUESTION]"},"window prompt as command":{en:"dialog with message [MESSAGE] and value [VALUE]",fr:"dialogue avec message [MESSAGE] et valeur [VALUE]"},"window confirm":{en:"dialog with confirmation [MESSAGE]",fr:"dialogue avec confirmation [MESSAGE]"},"check color scheme":{en:"current color scheme",fr:"mode couleur actuel"},"get document title":{en:"page title",fr:"titre de la page"},"set document title":{en:"set page title to [VALUE]",fr:"définir le titre de la page à [VALUE]"},"can share URL":{en:"can share URL?",fr:"partage de l'URL possible ?"},"share URL":{en:"share [URL] with [TITLE] and [MESSAGE]",fr:"partager [URL] avec [TITLE] et [MESSAGE]"},"can set favicon":{en:"can set favicon with URL?",fr:"utiliser l'URL comme favicon possible ?"},"set favicon":{en:"use [URL] as favicon",fr:"utiliser [URL] comme favicon"},"copy text to clipboard":{en:"copy [TEXT] to clipboard",fr:"copier [TEXT] dans le presse-papier"},"can display notification":{en:"can display notification?",fr:"affichage de notification possible ?"},"display notification":{en:"display notification with title: [TITLE] and message: [MESSAGE] during [DURATION] seconds",fr:"afficher une notification avec titre : [TITLE] et message : [MESSAGE] pendant [DURATION] secondes"},"display notification with icon":{en:"display notification with title: [TITLE] and message: [MESSAGE] during [DURATION] seconds and [URL] as icon",fr:"afficher une notification avec titre : [TITLE] et message : [MESSAGE] pendant [DURATION] secondes et [URL] comme icône"}}},i=!navigator.userAgent.includes("Chrome")&&navigator.userAgent.includes("Safari");e.extensions.register(new class{constructor(e){this.runtime=e}getInfo(){return this._locale=this.setLocale(),{id:"adabrowser",name:"Browser",menuIconURI:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNyAyNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7fS5jbHMtMntmaWxsOiNjZTU3NGU7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSJDYWxxdWVfMiIgZGF0YS1uYW1lPSJDYWxxdWUgMiI+PGcgaWQ9IkxheWVyXzEiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iMjciIGhlaWdodD0iMjUiLz48ZyBpZD0iQnJvd3NlciI+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMjAsMTguMjNIN2EuNzguNzgsMCwwLDEtLjc4LS43OFY3LjlBMS4xMywxLjEzLDAsMCwxLDcuMzMsNi43N0gxOS42N0ExLjEzLDEuMTMsMCwwLDEsMjAuNzksNy45djkuNTVBLjc4Ljc4LDAsMCwxLDIwLDE4LjIzWk03LjMzLDcuMjlhLjYuNiwwLDAsMC0uNi42MXY5LjU1YS4yNi4yNiwwLDAsMCwuMjYuMjZIMjBhLjI2LjI2LDAsMCwwLC4yNi0uMjZWNy45YS42LjYsMCwwLDAtLjYtLjYxWiIvPjxnIGlkPSJ0b3AiPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTcuMzMsN0gxOS42N2EuODYuODYsMCwwLDEsLjg2Ljg2VjkuNjVhMCwwLDAsMCwxLDAsMEg2LjQ3YTAsMCwwLDAsMSwwLDBWNy45QS44Ni44NiwwLDAsMSw3LjMzLDdaIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==",blockIconURI:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNyAyNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7fS5jbHMtMntmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSJDYWxxdWVfMiIgZGF0YS1uYW1lPSJDYWxxdWUgMiI+PGcgaWQ9IkxheWVyXzEiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iMjciIGhlaWdodD0iMjUiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xOS42Niw2LjdINy4zM0ExLjEyLDEuMTIsMCwwLDAsNi4yMSw3LjgydjkuNTVhLjc4Ljc4LDAsMCwwLC43OC43OEgyMGEuNzguNzgsMCwwLDAsLjc3LS43OFY3LjgyQTEuMTIsMS4xMiwwLDAsMCwxOS42Niw2LjdaTTIwLDE3LjYzSDdhLjI1LjI1LDAsMCwxLS4yNi0uMjZWOS41N0gyMC4yN3Y3LjhBLjI2LjI2LDAsMCwxLDIwLDE3LjYzWiIvPjwvZz48L2c+PC9zdmc+",docsURI:"https://adacraft.notion.site/9c8fb3c7ed6240e181290b2f1c70a651",color1:"#386bff",blocks:[{opcode:"getUrl",blockType:a.REPORTER,text:this.getMessage("get current URL")},{opcode:"checkIfQueryStringFieldExists",blockType:a.BOOLEAN,text:this.getMessage("check field existence in URL"),arguments:{FIELD:{type:t.STRING,defaultValue:"search"}}},{opcode:"getQueryStringFieldValue",blockType:a.REPORTER,text:this.getMessage("get field value from URL"),arguments:{FIELD:{type:t.STRING,defaultValue:"search"}}},{opcode:"setQueryStringFieldValue",blockType:a.COMMAND,text:this.getMessage("set field value from URL"),arguments:{FIELD:{type:t.STRING,defaultValue:"search"},VALUE:{type:t.STRING,defaultValue:"value"}}},{opcode:"openUrl",blockType:a.COMMAND,text:this.getMessage("open URL"),arguments:{URL:{type:t.STRING,defaultValue:"https://adacraft.org"}}},{opcode:"saveAsFile",blockType:a.COMMAND,text:this.getMessage("save as file"),arguments:{CONTENT:{type:t.STRING,defaultValue:"content"},FILE_NAME:{type:t.STRING,defaultValue:"file.txt"}}},{opcode:"openFileAsText",blockType:a.REPORTER,disableMonitor:!0,text:this.getMessage("open text file")},{opcode:"localStorageSetItem",blockType:a.COMMAND,text:this.getMessage("localStorage set item"),arguments:{NAME:{type:t.STRING,defaultValue:"name"},VALUE:{type:t.STRING,defaultValue:"value"}}},{opcode:"localStorageGetItem",blockType:a.REPORTER,text:this.getMessage("localStorage get item"),arguments:{NAME:{type:t.STRING,defaultValue:"name"}}},{opcode:"localStorageRemoveItem",blockType:a.COMMAND,text:this.getMessage("localStorage remove item"),arguments:{NAME:{type:t.STRING,defaultValue:"name"}}},{opcode:"localStorageItemExists",blockType:a.BOOLEAN,text:this.getMessage("localStorage item exists"),arguments:{NAME:{type:t.STRING,defaultValue:"name"}}},{hideFromPalette:!0,opcode:"setHtml",blockType:a.COMMAND,text:this.getMessage("set HTML"),arguments:{NAME:{type:t.STRING,defaultValue:'<h1 style="color: orange;">Hello</h1>World'}}},{opcode:"takePictureAndSaveWithName",blockType:a.COMMAND,text:this.getMessage("take picture and save it to file"),arguments:{PICTURE_NAME:{type:t.STRING,defaultValue:"image.png"}}},{opcode:"takePictureAndSave",blockType:a.COMMAND,text:this.getMessage("save webcam picture")},{opcode:"windowAlert",blockType:a.COMMAND,text:this.getMessage("window alert"),arguments:{MESSAGE:{type:t.STRING,defaultValue:"Some important information"}}},{opcode:"windowPromptReporter",blockType:a.REPORTER,text:this.getMessage("window prompt as reporter"),arguments:{QUESTION:{type:t.STRING,defaultValue:"Please type something"},DEFAULT:{type:t.STRING,defaultValue:"something"}}},{opcode:"windowPromptNoDefaultReporter",blockType:a.REPORTER,text:this.getMessage("window prompt without default as reporter"),arguments:{QUESTION:{type:t.STRING,defaultValue:"Please type something"}}},{opcode:"windowPromptCommand",blockType:a.COMMAND,text:this.getMessage("window prompt as command"),arguments:{MESSAGE:{type:t.STRING,defaultValue:"Please type something"},VALUE:{type:t.STRING,defaultValue:"something"}}},{opcode:"windowConfirm",blockType:a.BOOLEAN,text:this.getMessage("window confirm"),arguments:{MESSAGE:{type:t.STRING,defaultValue:"Do you agree?"}}},{opcode:"prefersColorScheme",blockType:a.REPORTER,text:this.getMessage("check color scheme")},{opcode:"getDocumentTitle",blockType:a.REPORTER,text:this.getMessage("get document title")},{opcode:"setDocumentTitle",blockType:a.COMMAND,text:this.getMessage("set document title"),arguments:{VALUE:{type:t.STRING,defaultValue:"Title"}}},{opcode:"canShareURL",blockType:a.BOOLEAN,text:this.getMessage("can share URL")},{opcode:"shareURL",blockType:a.COMMAND,text:this.getMessage("share URL"),arguments:{URL:{type:t.STRING,defaultValue:"URL"},TITLE:{type:t.STRING,defaultValue:"Title"},MESSAGE:{type:t.STRING,defaultValue:"Message"}}},{opcode:"canSetFavicon",blockType:a.BOOLEAN,text:this.getMessage("can set favicon")},{opcode:"setFavicon",blockType:a.COMMAND,text:this.getMessage("set favicon"),arguments:{URL:{type:t.STRING,defaultValue:"URL"}}},{opcode:"copyTextToClipboard",blockType:a.COMMAND,text:this.getMessage("copy text to clipboard"),arguments:{TEXT:{type:t.STRING,defaultValue:"text"}}},{opcode:"canDisplayNotification",blockType:a.BOOLEAN,text:this.getMessage("can display notification")},{opcode:"displayNotification",func:"createAndDisplayNotification",blockType:a.COMMAND,text:this.getMessage("display notification"),arguments:{TITLE:{type:t.STRING,defaultValue:"title"},MESSAGE:{type:t.STRING,defaultValue:"message"},DURATION:{type:t.NUMBER,defaultValue:3}}},{opcode:"displayNotificationWithIcon",func:"createAndDisplayNotification",blockType:a.COMMAND,text:this.getMessage("display notification with icon"),arguments:{TITLE:{type:t.STRING,defaultValue:"title"},MESSAGE:{type:t.STRING,defaultValue:"message"},DURATION:{type:t.NUMBER,defaultValue:3},URL:{type:t.STRING,defaultValue:"URL"}}}]}}getUrl(){return window.location.href}checkIfQueryStringFieldExists(e){const t=e.FIELD;return new URL(window.location).searchParams.has(t)}getQueryStringFieldValue(e){const t=e.FIELD,a=new URL(window.location).searchParams.get(t);return null!==a?a:""}setQueryStringFieldValue(e){const t=new URL(window.location.href),a=new URLSearchParams(t.search);a.set(e.FIELD,e.VALUE),t.search=a.toString();const o=t.search;history.pushState(history.state,document.title,o)}openUrl(e){window.open(e.URL,"_blank")}openFile(e){return new Promise(((t,a)=>{const o=document.getElementById("adacraft-hidden-input-file-upload");o.value="";const i=document.getElementById("adacraft-modal-close-button"),n=a=>{if(i.removeEventListener("click",n,!1),window.removeEventListener("click",n,!1),0===o.value.length)t("");else{const a=new FileReader;a.onload=function(e){const a=e.target.result;t(a)};const i=o.files[0];"text"===e?a.readAsText(i):"binary"===e?a.readAsBinaryString(i):t(`unexpected error: unknown read type (${e})`)}};i.addEventListener("click",n,!1),window.addEventListener("click",n,!1);document.getElementById("adacraft-modal").style.display="block"}))}openFileAsText(){return this.openFile("text")}openFileAsBinaryString(){return this.openFile("binary")}saveAsFile(e){try{const t=document.createElement("a"),a=e.CONTENT,o=a.match(/^\s*data:([a-z]+\/[a-z+]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)?a:`data:text/plain;charset=utf-8,${encodeURIComponent(a)}`;t.setAttribute("href",o),t.setAttribute("download",e.FILE_NAME),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(e){console.log("error in saveAsFile block")}}getLocalStorageKey(e){let t;return t=window.adacraft&&window.adacraft.projectId?window.adacraft.projectId:"default",`adacraft:project:${t}:${e}`}localStorageSetItem(e){localStorage.setItem(this.getLocalStorageKey(e.NAME),e.VALUE)}localStorageGetItem(e){return localStorage.getItem(this.getLocalStorageKey(e.NAME))||""}localStorageRemoveItem(e){localStorage.removeItem(this.getLocalStorageKey(e.NAME))}localStorageItemExists(e){return null!==localStorage.getItem(this.getLocalStorageKey(e.NAME))}setHtml(e){try{document.getElementById("dom-render-root").innerHTML=undefined.sanitize(e.NAME)}catch(e){return}}takePictureAndSaveWithName(e){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!1,video:{width:400}}).then((function(t){const a=document.createElement("video");a.srcObject=t,a.onloadedmetadata=function(t){a.play();const o=document.createElement("canvas"),i=o.getContext("2d");if(o.height=a.videoHeight,o.width=a.videoWidth,i.drawImage(a,0,0,a.videoWidth,a.videoHeight),navigator.msSaveOrOpenBlob){const t=o.msToBlob();window.navigator.msSaveOrOpenBlob(t,e.PICTURE_NAME)}else{const t=document.createElement("a");t.href=o.toDataURL("image/png"),t.download=e.PICTURE_NAME,t.click()}}}))}takePictureAndSave(){const e={PICTURE_NAME:`image_${`${(new Date).toISOString().replaceAll("-","").replaceAll(":","").slice(0,15)}Z`}.png`};this.takePictureAndSaveWithName(e)}windowAlert(e){window.alert(e.MESSAGE)}windowPromptReporter(e){return window.prompt(e.QUESTION,e.DEFAULT)}windowPromptNoDefaultReporter(e){return window.prompt(e.QUESTION,"")}windowPromptCommand(e){window.prompt(e.MESSAGE,e.VALUE)}windowConfirm(e){return window.confirm(e.MESSAGE)}prefersColorScheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light"}getDocumentTitle(){return document.title}setDocumentTitle(e){document.title=e.VALUE}canShareURL(){return!!navigator.canShare&&!i}shareURL(e){i||navigator.share({url:e.URL,title:e.TITLE,text:e.MESSAGE})}canSetFavicon(){return!i}setFavicon(e){let t=document.querySelector("link[rel~='icon']");t||(t=document.createElement("link"),t.rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),t.href=e.URL}async copyTextToClipboard(e){await navigator.clipboard.writeText(e.TEXT)}canDisplayNotification(){return!(!("Notification"in window)||!Notification.requestPermission)}createAndDisplayNotification(e){if(!0!==this.canDisplayNotification())return!1;Notification.requestPermission().then((()=>{"granted"===Notification.permission&&(()=>{const t=e.TITLE,a={body:e.MESSAGE,icon:e.URL},o=1e3*e.DURATION,i=new Notification(t,a);setTimeout(i.close.bind(i),o)})()})).catch((e=>{console.log(e)}))}setLocale(){return"en"}getMessage(e){return o.messages[e][this._locale]}}(e.vm.runtime))}(Scratch);