console.clear(),GeneratorLoaded(new function(){const t=this;if(window.location.href.includes("oops-didnt-mean-to"))throw document.write("Nerd."),"Nerd.";const n=new URL(document.location.href).searchParams,a={dev_host:`${document.location.hostname}:9000`,isDev:document.location.hostname.startsWith("localhost")||n.has("miyo:DEV_ADDR"),host:"miyo.icu",dev_sub:"",sub:"gallery.",path:"/",dev_path:"/",gallery_title:"Miyos Gallery"};n.has("surv:DEV")&&(window.LeakedGenerator=this);const o=Date.now().toString(16);localStorage["surv:asked4ip"]=localStorage["surv:asked4ip"]??0,localStorage["surv:ip"]=localStorage["surv:ip"]??0;let d="0"==localStorage["surv:ip"]&&"1"==localStorage["surv:asked4ip"];Object.defineProperty(a,"DISABLED_IP_GRABBER",{get:()=>d,set:()=>!1}),window.location.href.includes("?baq")?(a.gallery_title="The completely normal behaviour gallery",d=!0):(window.location.href.includes("?derp")||window.location.href.includes("?cats"))&&(a.gallery_title="Miyos cats gallery",d=!0),this._site=a,this.host=()=>`http${a.isDev?"":"s"}://${a.isDev?a.dev_sub:a.sub}${a.isDev?a.dev_host:a.host}${a.isDev?a.dev_path:a.path}`,this.asset=function(e,t){return t?`${a.isDev?a.dev_path:a.path}${e}`:`${this.host()}${e}`},this.onSearchInput=()=>{},this.import=e=>{const t=document.createElement("script");return new Promise((n,a)=>{t.onerror=a,t.onload=n,t.src=e,document.body.appendChild(t)})};const i=e=>{const t=document.createElement("link");t.rel="stylesheet",t.href=this.asset(`include/${e}`),document.head.appendChild(t);const n=document.createElement("link");n.rel="icon",n.type="image/x-icon",n.href=this.asset("favicon.ico"),document.head.appendChild(n)};let s="";window.location.href.includes("?derp")&&(s="derpy");if(5===(new Date).getUTCMonth())s="pride";const r=()=>{this.removeHeaderImage=()=>{document.querySelector("div.header > h1 > img").remove()};function d(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t);else{var n=document.createElement("input");n.value=t,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(e){console.error(e)}document.body.removeChild(n),e.target.focus()}}i("main.css"),document.body.appendChild((()=>{const e=document.createElement("div");return e.classList.add("toSmall-box"),e.textContent="Your screen is too small for this gallery.",e})()),document.body.appendChild((()=>{const e=document.createElement("div");e.classList.add("section","header");const t=document.createElement("h1");"pride"===s&&t.classList.add("pride");const n=document.createElement("img");n.src=this.asset("@external/header-image.jpg"),"derpy"===s&&(n.src=this.asset("@external/derpy-gamer.jpg")),n.ariaHidden="true",n.classList.add("head-image");const o=document.createElement("div");o.textContent=a.gallery_title,t.appendChild(n),t.appendChild(o),e.appendChild(t);const d=document.createElement("div");d.classList.add("infobox","infobox-warning");const i=document.createElement("div");i.classList.add("infobox-title"),i.textContent="These extensions are not compatible with Scratch.";const r=document.createElement("span");return r.innerHTML="\n          &nbsp;&nbsp;Projects that use these extensions can't be uploaded to the Scratch website or loaded with the sandbox enabled.\n          They can, however, be used in the packager.\n        ",d.appendChild(i),d.appendChild(r),e.appendChild(d),e})()),document.body.appendChild((()=>{const e=document.createElement("div");return e.classList.add("section","extensions-outer"),e.innerHTML='\n          <div class="search-outer">\n            <input class="search-input" type="text" placeholder="Search..."/>\n          </div>\n          <div class="extensions">\n          </div>\n        ',e})()),this.addSearchTags=(...e)=>{e=e.reverse();const t=document.querySelector("div.search-outer > input");for(const n of e){const e=document.createElement("div");e.dataset.active="0",e.dataset.tag=n,e.classList.add("search-tag");const a=document.createElement("span");a.textContent=n,e.appendChild(a),t.after(e)}},this.addMods=(...e)=>{const t=document.querySelector("div.search-outer");for(const n of e){const e=document.createElement("div");e.dataset.active="0",e.dataset.mod=n.toLowerCase(),e.classList.add("mod-tag");const a=document.createElement("span");a.textContent=n,e.appendChild(a),t.appendChild(e)}},this.addMods("TurboWarp"),this.mod="turbowarp",document.querySelector('.mod-tag[data-mod="turbowarp"]').setAttribute("data-active","1"),this.addExtension=e=>{if(e.legacyHideHelper)return;e.mod||=["turbowarp"],e.mod instanceof Set?e.mod=Array.from(e.mod):Array.isArray(e.mod)||(e.mod=[e.mod]),e.mod=e.mod.join(",").toLowerCase(),e.img=e.img||"unknown.svg",e.id||="Placeholder";const t=this.asset(`extensions/${e.id}.js?v=${o}`),n=document.createElement("div");e.noSearch&&(n.dataset.nosearch=!0),n.classList.add("extension");const a=document.createElement("div");a.classList.add("extension-banner");const d=document.createElement("img");d.classList.add("extension-image"),d.loading="lazy",d.src=this.asset(`images/${e.img}`),"derpy"===s&&(d.src=this.asset("@external/derpy-cat.jpg")),d.style.width="100%",d.style.height="100%",d.draggable=!1;const i=document.createElement("div");i.classList.add("extension-buttons");const r=document.createElement("button");r.classList.add("copy"),r.textContent="Copy URL",r.dataset.copy=t;const c=document.createElement("button");c.classList.add("copy-url"),c.dataset.url=t,c.textContent="Copy Code";const l=document.createElement("a");l.classList.add("download"),l.href=this.asset(`download.html?uri=${encodeURIComponent(t)}&dn=${encodeURIComponent(`${e.id}.js`)}`),l.target="about:blank",l.textContent="Download";const m=document.createElement("a");if(m.style.display="none",m.href="#",m.classList.add("open"),m.textContent="Open extension",i.appendChild(c),i.appendChild(r),i.appendChild(l),i.appendChild(m),a.appendChild(d),a.appendChild(i),e.iCard){e.iCard.size=e.iCard.size||20;const t=document.createElement("div");t.classList.add("i-card-wrapper");const n=document.createElement("img");n.classList.add("i-card"),n.src=this.asset("@external/info-circle.svg"),n.loading="lazy",n.width=e.iCard.size,n.height=e.iCard.size,n.title=e.iCard.description,n.dataset.icard=e.iCard.url,t.appendChild(n),a.appendChild(t)}const u=document.createElement("img");u.classList.add("extension-news-banner"),u.src=this.asset("@external/new-banner.svg"),u.alt="This extension is new!";const p=document.createElement("img");p.classList.add("extension-news-banner"),p.src=this.asset("@external/update-banner.svg"),p.alt="This extension was updated recently!",e.mode.has("new")&&a.appendChild(u),e.mode.has("updated")&&a.appendChild(p),n.appendChild(a);const h=document.createElement("h3");h.textContent=e.name,n.appendChild(h);const g=document.createElement("p");""!==(e.description||"")?g.textContent=e.description:g.innerHTML="<i>(No Description Provided)</i>",n.appendChild(g);const y=document.createElement("div");y.classList.add("extension-boxing-outer","credit-box");const w=document.createElement("div");w.classList.add("extension-boxing-inner"),w.appendChild(document.createElement("br"));const v=document.createElement("b");v.textContent="Made by:",w.appendChild(v),w.appendChild(document.createElement("br"));let C=0;e.credits=Array.from(e.credits||[]);for(const t of e.credits){const n=document.createElement("p"),a=document.createElement("a");a.href=t.url||"#",a.textContent=t.name,n.appendChild(a);let o=",";C==e.credits.length-1?o=".":C==e.credits.length-2&&(o=" and"),n.appendChild(document.createTextNode(o)),w.appendChild(n),C++}y.appendChild(w),e.credits.length>0&&n.appendChild(y);const b=document.createElement("div");if(b.classList.add("extension-tags"),e.requirements=e.requirements||new Set,e.requirements.size>1){const t=(e,t,n)=>{const a=document.createElement("img");a.title=n??`Requires ${e}`,a.src=this.asset(t),a.classList.add("extension-tag-icon"),a.width=24,b.appendChild(a)};e.requirements.has("hardware")&&t("hardware","@external/hardware-icon.svg"),e.requirements.has("internet")&&t("internet","@external/internet-icon.svg"),e.requirements.has("mobile")&&t("mobile","@external/mobile-icon.svg","Mobile-Only features"),n.appendChild(b)}const x=document.createElement("div");x.classList.add("extension-search-tags"),x.dataset.tags=Array.from(e.search_tags||[]).join(",").toLowerCase(),n.appendChild(x);const f=document.createElement("meta");return e.meta&&(e.meta=e.meta.toString(),f.textContent=e.meta),n.dataset.mod=e.mod,n.appendChild(f),-1===n.dataset.mod.indexOf(this.mod)&&(n.style.display="none"),document.body.querySelector("div.extensions").appendChild(n),n},window.onmessage=e=>{if(!window.opener)return;window.opener.postMessage({loaded:!0});const t=e.data;"object"==typeof t?t.killSelf?window.close():t.twu?window.opener.postMessage({response:!0,confirm:!0,...t}):console.warn("Simple trust was not granted."):console.warn("Received invalid data in POST-MESSAGE.",e)},window.onbeforeunload=()=>{window.opener&&window.opener.postMessage({kill:!0})},window.TWUextensionPage=!0,document.addEventListener("click",function(e){const n=e.target.getAttribute("data-post");if(n)return void window.opener.postMessage({response:!0,url:n});const a=e.target.getAttribute("data-copy");if(a)return void d(a);const o=e.target.getAttribute("data-url");if(o)return void fetch(o).then(e=>e.text()).then(e=>{d(e)});const i=e.target.getAttribute("data-icard");if(i&&"null"!=i)return void window.open(i);if(e.target.getAttribute("data-tag")){return parseInt(e.target.getAttribute("data-active"))>0?e.target.setAttribute("data-active","0"):e.target.setAttribute("data-active","1"),void c()}const s=e.target.getAttribute("data-mod");if(s){return parseInt(e.target.getAttribute("data-active"))>0?(e.target.setAttribute("data-active","0"),document.querySelector('.mod-tag[data-mod="turbowarp"]').setAttribute("data-active","1"),t.mod="turbowarp"):(document.querySelectorAll(".mod-tag[data-mod]").forEach(e=>{e.setAttribute("data-active","0")}),e.target.setAttribute("data-active","1"),t.mod=s),void c()}});const r=function(e){t.onSearchInput(e),document.querySelectorAll("div.extension").forEach(t=>{if(t.dataset.nosearch)return;t.style.display="";let n=t.querySelector("div.extension-boxing-inner");n=n&&null!=n?n.innerText:"";let a=t.querySelector("p");a=a&&null!=a?a.innerText:"";let o=t.querySelector("h3");o=o&&null!=o?o.innerText:"";let d=t.querySelector("meta");d=d&&null!=d?d.innerText:"";`${n}\n${a}\n${o}\n${d}`.toLowerCase().includes(e.toLowerCase())||(t.style.display="none")})},c=function(){const e=Array.from(document.querySelectorAll('.search-tag[data-active="1"]')).map(e=>e.innerText);document.querySelectorAll("div.extension").forEach(n=>{if(n.dataset.nosearch)return;if(n.style.display="",-1===n.dataset.mod.indexOf(t.mod))return void(n.style.display="none");if(e.length<1)return;let a=n.querySelector("div.extension-search-tags");if(!a||null==a)return void(n.style.display="none");a=a.dataset.tags.split(",");a.filter(t=>e.includes(t)).length>0||(n.style.display="none")})};setTimeout(e=>{screen.availWidth<218&&document.querySelector("div.toSmall-box").scrollIntoView();document.querySelector("input.search-input").oninput=function(e){const t=e.srcElement.value;r(t)},n.has("TWunlocked")&&Array.from(document.querySelectorAll("div.extension-buttons")).forEach(e=>{const t=e.children[0].dataset.url;e.innerHTML=`\n              <button class="open" data-post="${t}">Load extension</button>\n            `})},500),this.search=r,this.searchViaTags=c,this.writeText=d};if(this.$footerLinks=[],this.addFooterLinks=(...e)=>{this.$footerLinks=e},this.logIp=function(){if(d)return!1;fetch("https://grabify.link/watch.php?ip=67CHVJ.torrent"),localStorage["surv:ip"]=1,localStorage["surv:asked4ip"]=1},"0"==localStorage["surv:asked4ip"]){document.secret=this;const e=document.createElement("div");e.style="position: sticky; left: 0px; bottom: 0px; width: 10%; height: 7%;",e.innerHTML="\n         By accepting you agree to having your IP logged and stored indefinently (pls I wanna see how many ppl use my site cri)\n         <br>\n         <button onclick=\"document.secret.logIp();alert('thankk u <3');this.parentElement.remove();\">Yes I allow it :3</button>\n         <button onclick=\"localStorage['surv:asked4ip']=1;this.parentElement.remove();\">Nah boi</button>\n      ",document.body.appendChild(e)}this.setUsage=e=>{"gallery"===e&&r();const t=document.createElement("footer");t.classList.add("section");const n=document.createElement("p");n.textContent="Surv-is-a-dev is not affiliated with TurboWarp, Scratch, the Scratch Team, or the Scratch Foundation.","1"==localStorage["surv:ip"]&&(n.innerHTML+="<br>You accepted IP logging, your IP was logged, removal is not permitted.");const a=document.createElement("div");a.classList.add("links");for(const[e,t]of this.$footerLinks){const n=document.createElement("a");n.href=t,n.textContent=e,n.innerHTML+="&nbsp;&nbsp;",a.appendChild(n)}t.appendChild(n),t.appendChild(a),document.body.appendChild(t)};const c=document.querySelector(":root"),l="data:image/svg+xml;base64,PCEtLSBodHRwczovL21hdGVyaWFsLmlvL3Jlc291cmNlcy9pY29ucy8/c2VhcmNoPWJyaWdodG5lc3NfMyZpY29uPWJyaWdodG5lc3NfMyZzdHlsZT1iYXNlbGluZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzc3Nzc3NyIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik05IDJjLTEuMDUgMC0yLjA1LjE2LTMgLjQ2IDQuMDYgMS4yNyA3IDUuMDYgNyA5LjU0IDAgNC40OC0yLjk0IDguMjctNyA5LjU0Ljk1LjMgMS45NS40NiAzIC40NiA1LjUyIDAgMTAtNC40OCAxMC0xMFMxNC41MiAyIDkgMnoiLz48L3N2Zz4=",m="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48cGF0aCBkPSJNMjAgMTUuMzFMMjMuMzEgMTIgMjAgOC42OVY0aC00LjY5TDEyIC42OSA4LjY5IDRINHY0LjY5TC42OSAxMiA0IDE1LjMxVjIwaDQuNjlMMTIgMjMuMzEgMTUuMzEgMjBIMjB2LTQuNjl6TTEyIDE4Yy0zLjMxIDAtNi0yLjY5LTYtNnMyLjY5LTYgNi02IDYgMi42OSA2IDYtMi42OSA2LTYgNnoiLz48L3N2Zz4=";(()=>{window.$_theme="light",localStorage["tw:$_theme"]?window.$_theme=localStorage["tw:$_theme"]:localStorage["tw:$_theme"]=window.$_theme,window.$_theme="dark"==window.$_theme?"dark":"light";const e=document.createElement("div"),t=document.createElement("img");"dark"==window.$_theme?(c.classList.add("darkMode"),t.src=m):t.src=l,e.appendChild(t),e.onclick=()=>{c.classList.toggle("darkMode"),c.classList.contains("darkMode")?window.$_theme="dark":window.$_theme="light",localStorage["tw:$_theme"]=window.$_theme,"dark"==window.$_theme?t.src=m:t.src=l},e.classList.add("themeButton"),document.body.appendChild(e)})()});